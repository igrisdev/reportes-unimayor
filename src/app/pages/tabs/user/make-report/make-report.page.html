<app-header></app-header>

<ion-content>
  <section>
    <header>
      <button>
        <ion-router-link
          [routerLink]="['/user/home']"
          style="text-decoration: none; color: inherit"
        >
          <ion-icon aria-hidden="true" name="arrow-back-outline"></ion-icon>
        </ion-router-link>
      </button>
    </header>

    <form [formGroup]="form" (ngSubmit)="handleSubmit()">
      <div>
        <section>
          <header>
            <h2>Ubicación</h2>

            <div>
              <button>Escanear</button>
              <button class="active">Escribir</button>
            </div>
          </header>
          <main>
            <!-- <select name="location" id="location">
              @for (location of locations(); track $index) {
              <option value="1">Bicentenario</option>
              }
            </select> -->

            <input
              type="text"
              id="location"
              list="location-suggestions"
              placeholder="Bicentenario salon #"
              formControlName="location"
              autofocus
            />

            <datalist id="location-suggestions">
              @for (location of locations(); track $index) {
              <option value="1">{{ location.nombre }}</option>
              }
            </datalist>
          </main>
        </section>
        <section>
          <header>
            <h2>Descripción</h2>

            <div>
              <button>Escanear</button>
              <button class="active">Escribir</button>
            </div>
          </header>
          <main>
            <textarea
              name="description"
              id="description"
              placeholder="Escribe aquí tu reporte"
              formControlName="description"
            ></textarea>
          </main>
        </section>
      </div>

      <button type="submit" [disabled]="isSubmitting()">
        @if (isSubmitting()) {
          <ion-spinner></ion-spinner>
        } @else {
          Enviar
        }
      </button>
    </form>
  </section>
</ion-content>
